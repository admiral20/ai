import{C as qe,l as Je,b as Qe,d as Ze,h as et,g as _e}from"./genStyleUtils-DBst5BfK.js";import{f as xe}from"./pick-attrs-CXfOM7vd.js";import{n as tt}from"./use-event-callback-BhZNFT6P.js";import{e as w,_ as P,s as Ie,l as T,m as ve,Y as nt,i as lt,p as at,f as ke,b as k,d as pe,al as ot,W as Z,j as se,aX as rt,P as $e,N as it,S as st,a3 as ut,T as be,aE as ct,R as dt,ab as vt,a1 as pt,V as ft,au as ht,X as mt,ar as gt,aD as Fe,b0 as yt,I as bt,t as ae,v as Ct,k as St,G as Ce}from"./index-BWYEhfp6.js";import{u as Pe,a as wt,B as xt,b as $t,c as Ot,g as It,S as kt}from"./index-DjRRLIPX.js";import{c as Oe,K as J,d as Ke,o as Ee,u as Pt,F as Et,w as At,x as Dt}from"./TextArea-QjPwBg_V.js";import{u as Vt,i as Le,l as _t,m as Ft}from"./compact-item-BxdjJU5I.js";import{R as Kt}from"./RightOutlined-B3Q5uH4m.js";import{L as Rt}from"./LeftOutlined-CJcu7z8j.js";import{e as Re}from"./index-zivedO6y.js";import"./EyeOutlined-ClO0Jlmd.js";import"./slide-DcfG3z5i.js";import"./isMobile-BbN7I0i_.js";import"./index-BRXLn0BZ.js";import"./index-C017VRdy.js";import"./isPlainObject-BAPqiuxX.js";import"./move-Bn2qgBvh.js";import"./index-BY0XPhVr.js";import"./useMergedState-Bz-QzAo1.js";import"./index-ujSkjIzf.js";const Ae="__RC_CASCADER_SPLIT__",Me="SHOW_PARENT",je="SHOW_CHILD";function ee(e){return e.join(Ae)}function re(e){return e.map(ee)}function Tt(e){return e.split(Ae)}function Nt(e){const{label:t,value:n,children:l}=e||{},a=n||"value";return{label:t||"label",value:a,key:a,children:l||"children"}}function ue(e,t){var n,l;return(n=e.isLeaf)!==null&&n!==void 0?n:!(!((l=e[t.children])===null||l===void 0)&&l.length)}function Bt(e){const t=e.parentElement;if(!t)return;const n=e.offsetTop-t.offsetTop;n-t.scrollTop<0?t.scrollTo({top:n}):n+e.offsetHeight-t.scrollTop>t.offsetHeight&&t.scrollTo({top:n+e.offsetHeight-t.offsetHeight})}function Lt(e,t){return`${e}-${t}`}function We(e,t){return e??t}function Mt(e){const{title:t,_title:n,key:l,children:a}=e||{},o=t||"title";return{title:o,_title:n||[o],key:l||"key",children:a||"children"}}function jt(e,t,n){let l={};typeof n=="object"?l=n:l={externalGetKey:n},l=l||{};const{childrenPropName:a,externalGetKey:o,fieldNames:s}=l,{key:i,children:c}=Mt(s),u=a||c;let r;o?typeof o=="string"?r=f=>f[o]:typeof o=="function"&&(r=f=>o(f)):r=(f,d)=>We(f[i],d);function p(f,d,y,h){const g=f?f[u]:e,v=f?Lt(y.pos,d):"0",S=f?[...h,f]:[];if(f){const O=r(f,v),C={node:f,index:d,pos:v,key:O,parentPos:y.node?y.pos:null,level:y.level+1,nodes:S};t(C)}g&&g.forEach((O,C)=>{p(O,C,{node:f,pos:v,level:y?y.level+1:-1},S)})}p(null)}function Wt(e){let{initWrapper:t,processEntity:n,onProcessFinished:l,externalGetKey:a,childrenPropName:o,fieldNames:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;const c=a||i,u={},r={};let p={posEntities:u,keyEntities:r};return t&&(p=t(p)||p),jt(e,f=>{const{node:d,index:y,pos:h,key:g,parentPos:v,level:S,nodes:O}=f,C={node:d,nodes:O,index:y,key:g,pos:h,level:S},A=We(g,h);u[h]=C,r[A]=C,C.parent=u[v],C.parent&&(C.parent.children=C.parent.children||[],C.parent.children.push(C)),n&&n(C,p)},{externalGetKey:c,childrenPropName:o,fieldNames:s}),l&&l(p),p}const zt=(e,t)=>w(()=>Wt(e.value,{fieldNames:t.value,initWrapper:l=>P(P({},l),{pathKeyEntities:{}}),processEntity:(l,a)=>{const o=l.nodes.map(s=>s[t.value.value]).join(Ae);a.pathKeyEntities[o]=l,l.key=o}}).pathKeyEntities);function Ht(e){const t=Ie(!1),n=T({});return ve(()=>{if(!e.value){t.value=!1,n.value={};return}let l={matchInputWidth:!0,limit:50};e.value&&typeof e.value=="object"&&(l=P(P({},l),e.value)),l.limit<=0&&delete l.limit,t.value=!0,n.value=l}),{showSearch:t,searchConfig:n}}const ce="__rc_cascader_search_mark__",Xt=(e,t,n)=>{let{label:l}=n;return t.some(a=>String(a[l]).toLowerCase().includes(e.toLowerCase()))},Gt=e=>{let{path:t,fieldNames:n}=e;return t.map(l=>l[n.label]).join(" / ")},Ut=(e,t,n,l,a,o)=>w(()=>{const{filter:s=Xt,render:i=Gt,limit:c=50,sort:u}=a.value,r=[];if(!e.value)return[];function p(f,d){f.forEach(y=>{if(!u&&c>0&&r.length>=c)return;const h=[...d,y],g=y[n.value.children];(!g||g.length===0||o.value)&&s(e.value,h,{label:n.value.label})&&r.push(P(P({},y),{[n.value.label]:i({inputValue:e.value,path:h,prefixCls:l.value,fieldNames:n.value}),[ce]:h})),g&&p(y[n.value.children],h)})}return p(t.value,[]),u&&r.sort((f,d)=>u(f[ce],d[ce],e.value,n.value)),c>0?r.slice(0,c):r});function Te(e,t,n){const l=new Set(e);return e.filter(a=>{const o=t[a],s=o?o.parent:null,i=o?o.children:null;return n===je?!(i&&i.some(c=>c.key&&l.has(c.key))):!(s&&!s.node.disabled&&l.has(s.key))})}function de(e,t,n){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;var a;let o=t;const s=[];for(let i=0;i<e.length;i+=1){const c=e[i],u=o==null?void 0:o.findIndex(p=>{const f=p[n.value];return l?String(f)===String(c):f===c}),r=u!==-1?o==null?void 0:o[u]:null;s.push({value:(a=r==null?void 0:r[n.value])!==null&&a!==void 0?a:c,index:u,option:r}),o=r==null?void 0:r[n.children]}return s}const Yt=(e,t,n)=>w(()=>{const l=[],a=[];return n.value.forEach(o=>{de(o,e.value,t.value).every(i=>i.option)?a.push(o):l.push(o)}),[a,l]});function ze(e,t){const n=new Set;return e.forEach(l=>{t.has(l)||n.add(l)}),n}function qt(e){const{disabled:t,disableCheckbox:n,checkable:l}=e||{};return!!(t||n)||l===!1}function Jt(e,t,n,l){const a=new Set(e),o=new Set;for(let i=0;i<=n;i+=1)(t.get(i)||new Set).forEach(u=>{const{key:r,node:p,children:f=[]}=u;a.has(r)&&!l(p)&&f.filter(d=>!l(d.node)).forEach(d=>{a.add(d.key)})});const s=new Set;for(let i=n;i>=0;i-=1)(t.get(i)||new Set).forEach(u=>{const{parent:r,node:p}=u;if(l(p)||!u.parent||s.has(u.parent.key))return;if(l(u.parent.node)){s.add(r.key);return}let f=!0,d=!1;(r.children||[]).filter(y=>!l(y.node)).forEach(y=>{let{key:h}=y;const g=a.has(h);f&&!g&&(f=!1),!d&&(g||o.has(h))&&(d=!0)}),f&&a.add(r.key),d&&o.add(r.key),s.add(r.key)});return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(ze(o,a))}}function Qt(e,t,n,l,a){const o=new Set(e);let s=new Set(t);for(let c=0;c<=l;c+=1)(n.get(c)||new Set).forEach(r=>{const{key:p,node:f,children:d=[]}=r;!o.has(p)&&!s.has(p)&&!a(f)&&d.filter(y=>!a(y.node)).forEach(y=>{o.delete(y.key)})});s=new Set;const i=new Set;for(let c=l;c>=0;c-=1)(n.get(c)||new Set).forEach(r=>{const{parent:p,node:f}=r;if(a(f)||!r.parent||i.has(r.parent.key))return;if(a(r.parent.node)){i.add(p.key);return}let d=!0,y=!1;(p.children||[]).filter(h=>!a(h.node)).forEach(h=>{let{key:g}=h;const v=o.has(g);d&&!v&&(d=!1),!y&&(v||s.has(g))&&(y=!0)}),d||o.delete(p.key),y&&s.add(p.key),i.add(p.key)});return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(ze(s,o))}}function Se(e,t,n,l,a,o){let s;s=qt;const i=new Set(e.filter(u=>!!n[u]));let c;return t===!0?c=Jt(i,a,l,s):c=Qt(i,t.halfCheckedKeys,a,l,s),c}const Zt=(e,t,n,l,a)=>w(()=>{const o=a.value||(s=>{let{labels:i}=s;const c=l.value?i.slice(-1):i,u=" / ";return c.every(r=>["string","number"].includes(typeof r))?c.join(u):c.reduce((r,p,f)=>{const d=nt(p)?Oe(p,{key:f}):p;return f===0?[d]:[...r,u,d]},[])});return e.value.map(s=>{const i=de(s,t.value,n.value),c=o({labels:i.map(r=>{let{option:p,value:f}=r;var d;return(d=p==null?void 0:p[n.value.label])!==null&&d!==void 0?d:f}),selectedOptions:i.map(r=>{let{option:p}=r;return p})}),u=ee(s);return{label:c,value:u,key:u,valueCells:s}})}),He=Symbol("CascaderContextKey"),en=e=>{at(He,e)},he=()=>lt(He),tn=()=>{const e=Pe(),{values:t}=he(),[n,l]=Vt([]);return ke(()=>e.open,()=>{if(e.open&&!e.multiple){const a=t.value[0];l(a||[])}},{immediate:!0}),[n,l]},nn=(e,t,n,l,a,o)=>{const s=Pe(),i=w(()=>s.direction==="rtl"),[c,u,r]=[T([]),T(),T([])];ve(()=>{let h=-1,g=t.value;const v=[],S=[],O=l.value.length;for(let A=0;A<O&&g;A+=1){const R=g.findIndex(K=>K[n.value.value]===l.value[A]);if(R===-1)break;h=R,v.push(h),S.push(l.value[A]),g=g[h][n.value.children]}let C=t.value;for(let A=0;A<v.length-1;A+=1)C=C[v[A]][n.value.children];[c.value,u.value,r.value]=[S,h,C]});const p=h=>{a(h)},f=h=>{const g=r.value.length;let v=u.value;v===-1&&h<0&&(v=g);for(let S=0;S<g;S+=1){v=(v+h+g)%g;const O=r.value[v];if(O&&!O.disabled){const C=O[n.value.value],A=c.value.slice(0,-1).concat(C);p(A);return}}},d=()=>{if(c.value.length>1){const h=c.value.slice(0,-1);p(h)}else s.toggleOpen(!1)},y=()=>{var h;const v=(((h=r.value[u.value])===null||h===void 0?void 0:h[n.value.children])||[]).find(S=>!S.disabled);if(v){const S=[...c.value,v[n.value.value]];p(S)}};e.expose({onKeydown:h=>{const{which:g}=h;switch(g){case J.UP:case J.DOWN:{let v=0;g===J.UP?v=-1:g===J.DOWN&&(v=1),v!==0&&f(v);break}case J.LEFT:{i.value?y():d();break}case J.RIGHT:{i.value?d():y();break}case J.BACKSPACE:{s.searchValue||d();break}case J.ENTER:{if(c.value.length){const v=r.value[u.value],S=(v==null?void 0:v[ce])||[];S.length?o(S.map(O=>O[n.value.value]),S[S.length-1]):o(c.value,v)}break}case J.ESC:s.toggleOpen(!1),open&&h.stopPropagation()}},onKeyup:()=>{}})};function me(e){let{prefixCls:t,checked:n,halfChecked:l,disabled:a,onClick:o}=e;const{customSlots:s,checkable:i}=he(),c=i.value!==!1?s.value.checkable:i.value,u=typeof c=="function"?c():typeof c=="boolean"?null:c;return k("span",{class:{[t]:!0,[`${t}-checked`]:n,[`${t}-indeterminate`]:!n&&l,[`${t}-disabled`]:a},onClick:o},[u])}me.props=["prefixCls","checked","halfChecked","disabled","onClick"];me.displayName="Checkbox";me.inheritAttrs=!1;const Xe="__cascader_fix_label__";function ge(e){let{prefixCls:t,multiple:n,options:l,activeValue:a,prevValuePath:o,onToggleOpen:s,onSelect:i,onActive:c,checkedSet:u,halfCheckedSet:r,loadingKeys:p,isSelectable:f}=e;var d,y,h,g,v,S;const O=`${t}-menu`,C=`${t}-menu-item`,{fieldNames:A,changeOnSelect:R,expandTrigger:K,expandIcon:M,loadingIcon:_,dropdownMenuColumnStyle:B,customSlots:W}=he(),z=(d=M.value)!==null&&d!==void 0?d:(h=(y=W.value).expandIcon)===null||h===void 0?void 0:h.call(y),H=(g=_.value)!==null&&g!==void 0?g:(S=(v=W.value).loadingIcon)===null||S===void 0?void 0:S.call(v),te=K.value==="hover";return k("ul",{class:O,role:"menu"},[l.map(N=>{var x;const{disabled:D}=N,m=N[ce],E=(x=N[Xe])!==null&&x!==void 0?x:N[A.value.label],I=N[A.value.value],V=ue(N,A.value),j=m?m.map(b=>b[A.value.value]):[...o,I],X=ee(j),G=p.includes(X),Q=u.has(X),ne=r.has(X),le=()=>{!D&&(!te||!V)&&c(j)},U=()=>{f(N)&&i(j,V)};let q;return typeof N.title=="string"?q=N.title:typeof E=="string"&&(q=E),k("li",{key:X,class:[C,{[`${C}-expand`]:!V,[`${C}-active`]:a===I,[`${C}-disabled`]:D,[`${C}-loading`]:G}],style:B.value,role:"menuitemcheckbox",title:q,"aria-checked":Q,"data-path-key":X,onClick:()=>{le(),(!n||V)&&U()},onDblclick:()=>{R.value&&s(!1)},onMouseenter:()=>{te&&le()},onMousedown:b=>{b.preventDefault()}},[n&&k(me,{prefixCls:`${t}-checkbox`,checked:Q,halfChecked:ne,disabled:D,onClick:b=>{b.stopPropagation(),U()}},null),k("div",{class:`${C}-content`},[E]),!G&&z&&!V&&k("div",{class:`${C}-expand-icon`},[Oe(z)]),G&&H&&k("div",{class:`${C}-loading-icon`},[Oe(H)])])})])}ge.props=["prefixCls","multiple","options","activeValue","prevValuePath","onToggleOpen","onSelect","onActive","checkedSet","halfCheckedSet","loadingKeys","isSelectable"];ge.displayName="Column";ge.inheritAttrs=!1;const ln=pe({compatConfig:{MODE:3},name:"OptionList",inheritAttrs:!1,setup(e,t){const{attrs:n,slots:l}=t,a=Pe(),o=T(),s=w(()=>a.direction==="rtl"),{options:i,values:c,halfValues:u,fieldNames:r,changeOnSelect:p,onSelect:f,searchOptions:d,dropdownPrefixCls:y,loadData:h,expandTrigger:g,customSlots:v}=he(),S=w(()=>y.value||a.prefixCls),O=Ie([]),C=x=>{if(!h.value||a.searchValue)return;const m=de(x,i.value,r.value).map(I=>{let{option:V}=I;return V}),E=m[m.length-1];if(E&&!ue(E,r.value)){const I=ee(x);O.value=[...O.value,I],h.value(m)}};ve(()=>{O.value.length&&O.value.forEach(x=>{const D=Tt(x),m=de(D,i.value,r.value,!0).map(I=>{let{option:V}=I;return V}),E=m[m.length-1];(!E||E[r.value.children]||ue(E,r.value))&&(O.value=O.value.filter(I=>I!==x))})});const A=w(()=>new Set(re(c.value))),R=w(()=>new Set(re(u.value))),[K,M]=tn(),_=x=>{M(x),C(x)},B=x=>{const{disabled:D}=x,m=ue(x,r.value);return!D&&(m||p.value||a.multiple)},W=function(x,D){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;f(x),!a.multiple&&(D||p.value&&(g.value==="hover"||m))&&a.toggleOpen(!1)},z=w(()=>a.searchValue?d.value:i.value),H=w(()=>{const x=[{options:z.value}];let D=z.value;for(let m=0;m<K.value.length;m+=1){const E=K.value[m],I=D.find(j=>j[r.value.value]===E),V=I==null?void 0:I[r.value.children];if(!(V!=null&&V.length))break;D=V,x.push({options:V})}return x});nn(t,z,r,K,_,(x,D)=>{B(D)&&W(x,ue(D,r.value),!0)});const N=x=>{x.preventDefault()};return ot(()=>{ke(K,x=>{var D;for(let m=0;m<x.length;m+=1){const E=x.slice(0,m+1),I=ee(E),V=(D=o.value)===null||D===void 0?void 0:D.querySelector(`li[data-path-key="${I.replace(/\\{0,2}"/g,'\\"')}"]`);V&&Bt(V)}},{flush:"post",immediate:!0})}),()=>{var x,D,m,E,I;const{notFoundContent:V=((x=l.notFoundContent)===null||x===void 0?void 0:x.call(l))||((m=(D=v.value).notFoundContent)===null||m===void 0?void 0:m.call(D)),multiple:j,toggleOpen:X}=a,G=!(!((I=(E=H.value[0])===null||E===void 0?void 0:E.options)===null||I===void 0)&&I.length),Q=[{[r.value.value]:"__EMPTY__",[Xe]:V,disabled:!0}],ne=P(P({},n),{multiple:!G&&j,onSelect:W,onActive:_,onToggleOpen:X,checkedSet:A.value,halfCheckedSet:R.value,loadingKeys:O.value,isSelectable:B}),U=(G?[{options:Q}]:H.value).map((q,b)=>{const $=K.value.slice(0,b),F=K.value[b];return k(ge,Z(Z({key:b},ne),{},{prefixCls:S.value,options:q.options,prevValuePath:$,activeValue:F}),null)});return k("div",{class:[`${S.value}-menus`,{[`${S.value}-menu-empty`]:G,[`${S.value}-rtl`]:s.value}],onMousedown:N,ref:o},[U])}}});function an(e){const t=T(0),n=Ie();return ve(()=>{const l=new Map;let a=0;const o=e.value||{};for(const s in o)if(Object.prototype.hasOwnProperty.call(o,s)){const i=o[s],{level:c}=i;let u=l.get(c);u||(u=new Set,l.set(c,u)),u.add(i),a=Math.max(a,c)}t.value=a,n.value=l}),{maxLevel:t,levelEntities:n}}function on(){return P(P({},Ee($t(),["tokenSeparators","mode","showSearch"])),{id:String,prefixCls:String,fieldNames:it(),children:Array,value:{type:[String,Number,Array]},defaultValue:{type:[String,Number,Array]},changeOnSelect:{type:Boolean,default:void 0},displayRender:Function,checkable:{type:Boolean,default:void 0},showCheckedStrategy:{type:String,default:Me},showSearch:{type:[Boolean,Object],default:void 0},searchValue:String,onSearch:Function,expandTrigger:String,options:Array,dropdownPrefixCls:String,loadData:Function,popupVisible:{type:Boolean,default:void 0},dropdownClassName:String,dropdownMenuColumnStyle:{type:Object,default:void 0},popupStyle:{type:Object,default:void 0},dropdownStyle:{type:Object,default:void 0},popupPlacement:String,placement:String,onPopupVisibleChange:Function,onDropdownVisibleChange:Function,expandIcon:$e.any,loadingIcon:$e.any})}function Ge(){return P(P({},on()),{onChange:Function,customSlots:Object})}function rn(e){return Array.isArray(e)&&Array.isArray(e[0])}function Ne(e){return e?rn(e)?e:(e.length===0?[]:[e]).map(t=>Array.isArray(t)?t:[t]):[]}const sn=pe({compatConfig:{MODE:3},name:"Cascader",inheritAttrs:!1,props:Le(Ge(),{}),setup(e,t){let{attrs:n,expose:l,slots:a}=t;const o=wt(se(e,"id")),s=w(()=>!!e.checkable),[i,c]=Ke(e.defaultValue,{value:w(()=>e.value),postState:Ne}),u=w(()=>Nt(e.fieldNames)),r=w(()=>e.options||[]),p=zt(r,u),f=b=>{const $=p.value;return b.map(F=>{const{nodes:L}=$[F];return L.map(Y=>Y[u.value.value])})},[d,y]=Ke("",{value:w(()=>e.searchValue),postState:b=>b||""}),h=(b,$)=>{y(b),$.source!=="blur"&&e.onSearch&&e.onSearch(b)},{showSearch:g,searchConfig:v}=Ht(se(e,"showSearch")),S=Ut(d,r,u,w(()=>e.dropdownPrefixCls||e.prefixCls),v,se(e,"changeOnSelect")),O=Yt(r,u,i),[C,A,R]=[T([]),T([]),T([])],{maxLevel:K,levelEntities:M}=an(p);ve(()=>{const[b,$]=O.value;if(!s.value||!i.value.length){[C.value,A.value,R.value]=[b,[],$];return}const F=re(b),L=p.value,{checkedKeys:Y,halfCheckedKeys:ie}=Se(F,!0,L,K.value,M.value);[C.value,A.value,R.value]=[f(Y),f(ie),$]});const _=w(()=>{const b=re(C.value),$=Te(b,p.value,e.showCheckedStrategy);return[...R.value,...f($)]}),B=Zt(_,r,u,s,se(e,"displayRender")),W=b=>{if(c(b),e.onChange){const $=Ne(b),F=$.map(ie=>de(ie,r.value,u.value).map(fe=>fe.option)),L=s.value?$:$[0],Y=s.value?F:F[0];e.onChange(L,Y)}},z=b=>{if(y(""),!s.value)W(b);else{const $=ee(b),F=re(C.value),L=re(A.value),Y=F.includes($),ie=R.value.some(oe=>ee(oe)===$);let fe=C.value,Ve=R.value;if(ie&&!Y)Ve=R.value.filter(oe=>ee(oe)!==$);else{const oe=Y?F.filter(Ye=>Ye!==$):[...F,$];let ye;Y?{checkedKeys:ye}=Se(oe,{halfCheckedKeys:L},p.value,K.value,M.value):{checkedKeys:ye}=Se(oe,!0,p.value,K.value,M.value);const Ue=Te(ye,p.value,e.showCheckedStrategy);fe=f(Ue)}W([...Ve,...fe])}},H=(b,$)=>{if($.type==="clear"){W([]);return}const{valueCells:F}=$.values[0];z(F)},te=w(()=>e.open!==void 0?e.open:e.popupVisible),N=w(()=>e.dropdownStyle||e.popupStyle||{}),x=w(()=>e.placement||e.popupPlacement),D=b=>{var $,F;($=e.onDropdownVisibleChange)===null||$===void 0||$.call(e,b),(F=e.onPopupVisibleChange)===null||F===void 0||F.call(e,b)},{changeOnSelect:m,checkable:E,dropdownPrefixCls:I,loadData:V,expandTrigger:j,expandIcon:X,loadingIcon:G,dropdownMenuColumnStyle:Q,customSlots:ne,dropdownClassName:le}=rt(e);en({options:r,fieldNames:u,values:C,halfValues:A,changeOnSelect:m,onSelect:z,checkable:E,searchOptions:S,dropdownPrefixCls:I,loadData:V,expandTrigger:j,expandIcon:X,loadingIcon:G,dropdownMenuColumnStyle:Q,customSlots:ne});const U=T();l({focus(){var b;(b=U.value)===null||b===void 0||b.focus()},blur(){var b;(b=U.value)===null||b===void 0||b.blur()},scrollTo(b){var $;($=U.value)===null||$===void 0||$.scrollTo(b)}});const q=w(()=>Ee(e,["id","prefixCls","fieldNames","defaultValue","value","changeOnSelect","onChange","displayRender","checkable","searchValue","onSearch","showSearch","expandTrigger","options","dropdownPrefixCls","loadData","popupVisible","open","dropdownClassName","dropdownMenuColumnStyle","popupPlacement","placement","onDropdownVisibleChange","onPopupVisibleChange","expandIcon","loadingIcon","customSlots","showCheckedStrategy","children"]));return()=>{const b=!(d.value?S.value:r.value).length,{dropdownMatchSelectWidth:$=!1}=e,F=d.value&&v.value.matchInputWidth||b?{}:{minWidth:"auto"};return k(xt,Z(Z(Z({},q.value),n),{},{ref:U,id:o,prefixCls:e.prefixCls,dropdownMatchSelectWidth:$,dropdownStyle:P(P({},N.value),F),displayValues:B.value,onDisplayValuesChange:H,mode:s.value?"multiple":void 0,searchValue:d.value,onSearch:h,showSearch:g.value,OptionList:ln,emptyOptions:b,open:te.value,dropdownClassName:le.value,placement:x.value,onDropdownVisibleChange:D,getRawInputElement:()=>{var L;return(L=a.default)===null||L===void 0?void 0:L.call(a)}}),a)}}}),un=new ut("antCheckboxEffect",{"0%":{transform:"scale(1)",opacity:.5},"100%":{transform:"scale(1.6)",opacity:0}}),cn=e=>{const{checkboxCls:t}=e,n=`${t}-wrapper`;return[{[`${t}-group`]:P(P({},be(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[n]:P(P({},be(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:P(P({},be(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:P({},ct(e))},[`${t}-inner`]:{boxSizing:"border-box",position:"relative",top:0,insetInlineStart:0,display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.checkboxSize/14*5,height:e.checkboxSize/14*8,border:`${e.lineWidthBold}px solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[t]:{"&-indeterminate":{[`${t}-inner`]:{"&:after":{top:"50%",insetInlineStart:"50%",width:e.fontSizeLG/2,height:e.fontSizeLG/2,backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${n}:hover ${t}:after`]:{visibility:"visible"},[`
        ${n}:not(${n}-disabled),
        ${t}:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}},"&:after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderRadius:e.borderRadiusSM,visibility:"hidden",border:`${e.lineWidthBold}px solid ${e.colorPrimary}`,animationName:un,animationDuration:e.motionDurationSlow,animationTimingFunction:"ease-in-out",animationFillMode:"backwards",content:'""',transition:`all ${e.motionDurationSlow}`}},[`
        ${n}-checked:not(${n}-disabled),
        ${t}-checked:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}:after`]:{borderColor:e.colorPrimaryHover}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function dn(e,t){const n=st(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[cn(n)]}const vn=e=>{const{prefixCls:t,componentCls:n,antCls:l}=e,a=`${n}-menu-item`,o=`
    &${a}-expand ${a}-expand-icon,
    ${a}-loading-icon
  `,s=Math.round((e.controlHeight-e.fontSize*e.lineHeight)/2);return[{[n]:{width:e.controlWidth}},{[`${n}-dropdown`]:[dn(`${t}-checkbox`,e),{[`&${l}-select-dropdown`]:{padding:0}},{[n]:{"&-checkbox":{top:0,marginInlineEnd:e.paddingXS},"&-menus":{display:"flex",flexWrap:"nowrap",alignItems:"flex-start",[`&${n}-menu-empty`]:{[`${n}-menu`]:{width:"100%",height:"auto",[a]:{color:e.colorTextDisabled}}}},"&-menu":{flexGrow:1,minWidth:e.controlItemWidth,height:e.dropdownHeight,margin:0,padding:e.paddingXXS,overflow:"auto",verticalAlign:"top",listStyle:"none","-ms-overflow-style":"-ms-autohiding-scrollbar","&:not(:last-child)":{borderInlineEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},"&-item":P(P({},vt),{display:"flex",flexWrap:"nowrap",alignItems:"center",padding:`${s}px ${e.paddingSM}px`,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationMid}`,borderRadius:e.borderRadiusSM,"&:hover":{background:e.controlItemBgHover},"&-disabled":{color:e.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"},[o]:{color:e.colorTextDisabled}},[`&-active:not(${a}-disabled)`]:{"&, &:hover":{fontWeight:e.fontWeightStrong,backgroundColor:e.controlItemBgActive}},"&-content":{flex:"auto"},[o]:{marginInlineStart:e.paddingXXS,color:e.colorTextDescription,fontSize:e.fontSizeIcon},"&-keyword":{color:e.colorHighlight}})}}}]},{[`${n}-dropdown-rtl`]:{direction:"rtl"}},_t(e)]},pn=dt("Cascader",e=>[vn(e)],{controlWidth:184,controlItemWidth:111,dropdownHeight:180});var fn=function(e,t){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(n[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,l=Object.getOwnPropertySymbols(e);a<l.length;a++)t.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(e,l[a])&&(n[l[a]]=e[l[a]]);return n};function hn(e,t,n){const l=e.toLowerCase().split(t).reduce((s,i,c)=>c===0?[i]:[...s,t,i],[]),a=[];let o=0;return l.forEach((s,i)=>{const c=o+s.length;let u=e.slice(o,c);o=c,i%2===1&&(u=k("span",{class:`${n}-menu-item-keyword`,key:"seperator"},[u])),a.push(u)}),a}const mn=e=>{let{inputValue:t,path:n,prefixCls:l,fieldNames:a}=e;const o=[],s=t.toLowerCase();return n.forEach((i,c)=>{c!==0&&o.push(" / ");let u=i[a.label];const r=typeof u;(r==="string"||r==="number")&&(u=hn(String(u),s,l)),o.push(u)}),o};function gn(){return P(P({},Ee(Ge(),["customSlots","checkable","options"])),{multiple:{type:Boolean,default:void 0},size:String,bordered:{type:Boolean,default:void 0},placement:{type:String},suffixIcon:$e.any,status:String,options:Array,popupClassName:String,dropdownClassName:String,"onUpdate:value":Function})}const yn=pe({compatConfig:{MODE:3},name:"ACascader",inheritAttrs:!1,props:Le(gn(),{bordered:!0,choiceTransitionName:"",allowClear:!0}),setup(e,t){let{attrs:n,expose:l,slots:a,emit:o}=t;const s=Pt(),i=Et.useInject(),c=w(()=>At(i.status,e.status)),{prefixCls:u,rootPrefixCls:r,getPrefixCls:p,direction:f,getPopupContainer:d,renderEmpty:y,size:h,disabled:g}=ft("cascader",e),v=w(()=>p("select",e.prefixCls)),{compactSize:S,compactItemClassnames:O}=Ft(v,f),C=w(()=>S.value||h.value),A=ht(),R=w(()=>{var m;return(m=g.value)!==null&&m!==void 0?m:A.value}),[K,M]=Ot(v),[_]=pn(u),B=w(()=>f.value==="rtl"),W=w(()=>{if(!e.showSearch)return e.showSearch;let m={render:mn};return typeof e.showSearch=="object"&&(m=P(P({},m),e.showSearch)),m}),z=w(()=>mt(e.popupClassName||e.dropdownClassName,`${u.value}-dropdown`,{[`${u.value}-dropdown-rtl`]:B.value},M.value)),H=T();l({focus(){var m;(m=H.value)===null||m===void 0||m.focus()},blur(){var m;(m=H.value)===null||m===void 0||m.blur()}});const te=function(){for(var m=arguments.length,E=new Array(m),I=0;I<m;I++)E[I]=arguments[I];o("update:value",E[0]),o("change",...E),s.onFieldChange()},N=function(){for(var m=arguments.length,E=new Array(m),I=0;I<m;I++)E[I]=arguments[I];o("blur",...E),s.onFieldBlur()},x=w(()=>e.showArrow!==void 0?e.showArrow:e.loading||!e.multiple),D=w(()=>e.placement!==void 0?e.placement:f.value==="rtl"?"bottomRight":"bottomLeft");return()=>{var m,E;const{notFoundContent:I=(m=a.notFoundContent)===null||m===void 0?void 0:m.call(a),expandIcon:V=(E=a.expandIcon)===null||E===void 0?void 0:E.call(a),multiple:j,bordered:X,allowClear:G,choiceTransitionName:Q,transitionName:ne,id:le=s.id.value}=e,U=fn(e,["notFoundContent","expandIcon","multiple","bordered","allowClear","choiceTransitionName","transitionName","id"]),q=I||y("Cascader");let b=V;V||(b=B.value?k(Rt,null,null):k(Kt,null,null));const $=k("span",{class:`${v.value}-menu-item-loading-icon`},[k(gt,{spin:!0},null)]),{suffixIcon:F,removeIcon:L,clearIcon:Y}=It(P(P({},e),{hasFeedback:i.hasFeedback,feedbackIcon:i.feedbackIcon,multiple:j,prefixCls:v.value,showArrow:x.value}),a);return _(K(k(sn,Z(Z(Z({},U),n),{},{id:le,prefixCls:v.value,class:[u.value,{[`${v.value}-lg`]:C.value==="large",[`${v.value}-sm`]:C.value==="small",[`${v.value}-rtl`]:B.value,[`${v.value}-borderless`]:!X,[`${v.value}-in-form-item`]:i.isFormItemInput},Dt(v.value,c.value,i.hasFeedback),O.value,n.class,M.value],disabled:R.value,direction:f.value,placement:D.value,notFoundContent:q,allowClear:G,showSearch:W.value,expandIcon:b,inputIcon:F,removeIcon:L,clearIcon:Y,loadingIcon:$,checkable:!!j,dropdownClassName:z.value,dropdownPrefixCls:u.value,choiceTransitionName:Fe(r.value,"",Q),transitionName:Fe(r.value,yt(D.value),ne),getPopupContainer:d==null?void 0:d.value,customSlots:P(P({},a),{checkable:()=>k("span",{class:`${u.value}-checkbox-inner`},null)}),tagRender:e.tagRender||a.tagRender,displayRender:e.displayRender||a.displayRender,maxTagPlaceholder:e.maxTagPlaceholder||a.maxTagPlaceholder,showArrow:i.hasFeedback||e.showArrow,onChange:te,onBlur:N,ref:H}),a)))}}}),bn=pt(P(yn,{SHOW_CHILD:je,SHOW_PARENT:Me}));var Cn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 568a56 56 0 10112 0 56 56 0 10-112 0zm338.7 119.7c-23.1 18.2-68.9 37.8-114.7 37.8s-91.6-19.6-114.7-37.8c-14.4-11.3-35.3-8.9-46.7 5.5s-8.9 35.3 5.5 46.7C396.3 771.6 457.5 792 512 792s115.7-20.4 155.9-52.1a33.25 33.25 0 10-41.2-52.2zM960 456c0-61.9-50.1-112-112-112-42.1 0-78.7 23.2-97.9 57.6-57.6-31.5-127.7-51.8-204.1-56.5L612.9 195l127.9 36.9c11.5 32.6 42.6 56.1 79.2 56.1 46.4 0 84-37.6 84-84s-37.6-84-84-84c-32 0-59.8 17.9-74 44.2L603.5 123a33.2 33.2 0 00-39.6 18.4l-90.8 203.9c-74.5 5.2-142.9 25.4-199.2 56.2A111.94 111.94 0 00176 344c-61.9 0-112 50.1-112 112 0 45.8 27.5 85.1 66.8 102.5-7.1 21-10.8 43-10.8 65.5 0 154.6 175.5 280 392 280s392-125.4 392-280c0-22.6-3.8-44.5-10.8-65.5C932.5 541.1 960 501.8 960 456zM820 172.5a31.5 31.5 0 110 63 31.5 31.5 0 010-63zM120 456c0-30.9 25.1-56 56-56a56 56 0 0150.6 32.1c-29.3 22.2-53.5 47.8-71.5 75.9a56.23 56.23 0 01-35.1-52zm392 381.5c-179.8 0-325.5-95.6-325.5-213.5S332.2 410.5 512 410.5 837.5 506.1 837.5 624 691.8 837.5 512 837.5zM868.8 508c-17.9-28.1-42.2-53.7-71.5-75.9 9-18.9 28.3-32.1 50.6-32.1 30.9 0 56 25.1 56 56 .1 23.5-14.5 43.7-35.1 52zM624 568a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"reddit",theme:"outlined"};function Be(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},l=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),l.forEach(function(a){Sn(e,a,n[a])})}return e}function Sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var De=function(t,n){var l=Be({},t,n.attrs);return k(bt,Be({},l,{icon:Cn}),null)};De.displayName="RedditOutlined";De.inheritAttrs=!1;const wn=e=>{const{componentCls:t,antCls:n}=e;return{[t]:{[`${n}-cascader-menus ${n}-cascader-menu`]:{height:"auto"},[`${t}-item`]:{"&-icon":{marginInlineEnd:e.paddingXXS},"&-extra":{marginInlineStart:e.padding}},[`&${t}-block`]:{[`${t}-item-extra`]:{marginInlineStart:"auto"}}}}},xn=()=>({}),$n=qe("Suggestion",e=>{const t=Je(e,{});return wn(t)},xn);function On(e,t,n,l,a){const[o,s]=xe([]),i=(d,y=o.value)=>{let h=ae(e);for(let g=0;g<d-1;g+=1){const v=y[g],S=h.find(O=>O.value===v);if(!S)break;h=S.children||[]}return h},c=d=>d.map((y,h)=>{const g=i(h+1,d).find(v=>v.value===y);return g==null?void 0:g.value}),u=d=>{const y=o.value.length||1,h=i(y),g=h.findIndex(O=>O.value===o.value[y-1]),v=h.length,S=h[(g+d+v)%v];s([...o.value.slice(0,y-1),S.value])},r=()=>{o.value.length>1&&s(o.value.slice(0,o.value.length-1))},p=()=>{const d=i(o.value.length+1);d.length&&s([...o.value,d[0].value])},f=tt(d=>{if(ae(t))switch(console.log("e.key",d),d.key){case"ArrowDown":u(1),d.preventDefault();break;case"ArrowUp":u(-1),d.preventDefault();break;case"ArrowRight":ae(n)?r():p(),d.preventDefault();break;case"ArrowLeft":ae(n)?p():r(),d.preventDefault();break;case"Enter":i(o.value.length+1).length||l(c(o.value)),d.preventDefault();break;case"Escape":a(),d.preventDefault();break}});return ke(()=>ae(t),()=>{ae(t)&&s([ae(e)[0].value])},{immediate:!0}),[o,f]}const we=pe({name:"AXSuggestion",__name:"Suggestion",props:Ct({prefixCls:null,className:null,rootClassName:null,style:null,children:{type:Function},open:{type:Boolean},onOpenChange:{type:Function},items:{type:Function},onSelect:{type:Function},block:{type:Boolean},styles:null,classNames:null},{open:!1}),setup(e){se(e,"prefixCls");const t=St(),{direction:n,getPrefixCls:l}=Qe(),a=w(()=>l("suggestion",e.prefixCls));`${a.value}`;const o=w(()=>n.value==="rtl"),s=Ze("suggestion"),i=T(),[c,u,r]=$n(a),{width:p}=et(i),f=w(()=>{if(e.block&&p.value)return{width:`${p.value}px`}}),[d,y]=xe(e.open),[h,g]=xe(),v=_=>{var B;y(_),(B=e.onOpenChange)==null||B.call(e,_)},S=_=>{_===!1?v(!1):(g(_),v(!0))},O=()=>{v(!1)},C=w(()=>typeof e.items=="function"?e.items(h.value):e.items),A=_=>{e.onSelect&&e.onSelect(_[_.length-1]),v(!1)},[R,K]=On(C,d,o,A,O),M=w(()=>{var _;return t.default?t.default({onTrigger:S,onKeyDown:K}):(_=e.children)==null?void 0:_.call(e,{onTrigger:S,onKeyDown:K})});return()=>c(k(bn,{options:C.value,open:d.value,value:R.value,placement:o.value?"topRight":"topLeft",onDropdownVisibleChange:_=>{_||O()},popupClassName:_e(e.rootClassName,a.value,u.value,r,{[`${a.value}-block`]:e.block}),onChange:A,dropdownStyle:f.value},{default:()=>k("div",{ref:i,class:_e(a.value,s.value.className,e.rootClassName,e.className,`${a.value}-wrapper`,u.value,r),style:{...s.value.style,...e.style}},[M.value])}))}}),Xn=pe({__name:"Suggestion",setup(e){const t=[{label:"Write a report",value:"report"},{label:"Draw a picture",value:"draw"},{label:"Check some knowledge",value:"knowledge",icon:k(De,null,null),children:[{label:"About React",value:"react"},{label:"About Ant Design",value:"antd"}]}],n=()=>{const o=T(""),s=i=>{o.value=i};return k(we,{items:t,onSelect:i=>{s(`[${i}]:`)},children:({onTrigger:i,onKeyDown:c})=>k(Re,{value:o.value,onChange:u=>{u==="/"?i():u||i(!1),s(u)},onKeyDown:c,placeholder:"输入 / 获取建议"},null)},null)},l=()=>{const o=T(""),s=i=>{o.value=i};return k(we,{block:!0,items:t,onSelect:i=>{s(`[${i}]:`)},children:({onTrigger:i,onKeyDown:c})=>k(Re,{value:o.value,onChange:u=>{u==="/"?i():u||i(!1),s(u)},onKeyDown:c,placeholder:"输入 / 获取建议"},null)},null)},a=()=>{const o=T(0),s=T([]),i=T("");return k(we,{items:c=>[{label:`Trigger by '${c}'`,value:String(c)}],onSelect:c=>{o.value+=1,s.value=[...s.value,`Cell_${o.value}`],i.value=i.value.replace(c,"")},children:({onTrigger:c,onKeyDown:u})=>k(kt,{value:s.value,style:{width:"100%"},mode:"tags",open:!1,searchValue:i.value,onChange:r=>{r.length<s.value.length&&(s.value=r)},onSearch:r=>{i.value=r},onKeydown:r=>{(r.key==="/"||r.key==="#")&&c(r.key),u(r)},placeholder:"可任意输入 / 与 # 多次获取建议"},null)},null)};return()=>k("div",null,[k("p",null,[Ce("基础用法，受控进行状态管理。自定义触发器。")]),k(n,null,null),k("p",null,[Ce("整行宽度, 通过 block 改为整行展示，extra 可用于配置额外信息。")]),k(l,null,null),k("p",null,[Ce("自定义, 根据输入动态展示建议项的多标签示例。")]),k(a,null,null)])}});export{Xn as default};
