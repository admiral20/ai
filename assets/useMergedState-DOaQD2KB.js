import{l,u as i,m as r,f as p,aP as d}from"./index-BATuKdql.js";function m(v,t){const{defaultValue:u,value:e=l()}=t||{};let o=typeof v=="function"?v():v;e.value!==void 0&&(o=i(e)),u!==void 0&&(o=typeof u=="function"?u():u);const f=l(o),n=l(o);r(()=>{let a=e.value!==void 0?e.value:f.value;t.postState&&(a=t.postState(a)),n.value=a});function c(a){const s=n.value;f.value=a,d(n.value)!==a&&t.onChange&&t.onChange(a,s)}return p(e,()=>{f.value=e.value}),[n,c]}export{m};
